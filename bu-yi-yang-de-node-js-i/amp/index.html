
<head>
    <meta charset="utf-8">

    <title>不一樣的 Node.js 筆記 (一)</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

    <link rel="shortcut icon" href="../../favicon.ico">

    <link rel="canonical" href="../index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta property="og:site_name" content="Hello World! I'm Vincent.">
    <meta property="og:type" content="article">
    <meta property="og:title" content="不一樣的 Node.js 筆記 (一)">
    <meta property="og:description" content="原著：不一樣的 Node.js－用 JavaScript 打造高效能的前後台網頁程式 林政毅、蔡政崇、錢逢祥 (2014/05/12)   作者群 期許本書可以替讀者勾勒出 Node.js 的技術藍圖。 Node.js 簡介 Node.js 為一個 opensource 的框架, 採用了 Chrome's V8 JavaScript Engine。 它讓 Javascript 可以獨立運行於瀏覽器之外。 制定了一系列機制於 API 來協助達到原生 JavaScript 所不支援的功能 (ex. Module、FileSystem、Socket、Process ...etc) 支援第三方模組的功能擴充 繼承 JavaScript 中 Event-driven">
    <meta property="og:url" content="http://captainvincent.github.io/bu-yi-yang-de-node-js-i/">
    <meta property="article:published_time" content="2016-03-22T12:34:46.000Z">
    <meta property="article:modified_time" content="2016-05-06T17:28:50.000Z">
    <meta property="article:publisher" content="https://www.facebook.com/UndercoverEngineer">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="不一樣的 Node.js 筆記 (一)">
    <meta name="twitter:description" content="原著：不一樣的 Node.js－用 JavaScript 打造高效能的前後台網頁程式 林政毅、蔡政崇、錢逢祥 (2014/05/12)   作者群 期許本書可以替讀者勾勒出 Node.js 的技術藍圖。 Node.js 簡介 Node.js 為一個 opensource 的框架, 採用了 Chrome's V8 JavaScript Engine。 它讓 Javascript 可以獨立運行於瀏覽器之外。 制定了一系列機制於 API 來協助達到原生 JavaScript 所不支援的功能 (ex. Module、FileSystem、Socket、Process ...etc) 支援第三方模組的功能擴充 繼承 JavaScript 中 Event-driven">
    <meta name="twitter:url" content="http://captainvincent.github.io/bu-yi-yang-de-node-js-i/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Captain Vincent">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Hello World! I&#x27;m Vincent.",
        "logo": "http://captainvincent.github.io/ghost/img/ghosticon.jpg"
    },
    "author": {
        "@type": "Person",
        "name": "Captain Vincent",
        "image": {
            "@type": "ImageObject",
            "url": "http://captainvincent.github.io/content/images/2016/11/--.JPG",
            "width": 889,
            "height": 1080
        },
        "url": "http://captainvincent.github.io/author/vincent/",
        "sameAs": []
    },
    "headline": "不一樣的 Node.js 筆記 (一)",
    "url": "http://captainvincent.github.io/bu-yi-yang-de-node-js-i/",
    "datePublished": "2016-03-22T12:34:46.000Z",
    "dateModified": "2016-05-06T17:28:50.000Z",
    "description": "原著：不一樣的 Node.js－用 JavaScript 打造高效能的前後台網頁程式 林政毅、蔡政崇、錢逢祥 (2014/05/12)   作者群 期許本書可以替讀者勾勒出 Node.js 的技術藍圖。 Node.js 簡介 Node.js 為一個 opensource 的框架, 採用了 Chrome&#x27;s V8 JavaScript Engine。 它讓 Javascript 可以獨立運行於瀏覽器之外。 制定了一系列機制於 API 來協助達到原生 JavaScript 所不支援的功能 (ex. Module、FileSystem、Socket、Process ...etc) 支援第三方模組的功能擴充 繼承 JavaScript 中 Event-driven",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://captainvincent.github.io"
    }
}
    </script>

    <meta name="generator" content="Ghost 0.11">
    <link rel="alternate" type="application/rss+xml" title="Hello World! I'm Vincent." href="../../rss/index.html">

    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,600,400">
    <style amp-custom>
        /* ==========================================================================
           Table of Contents
           ========================================================================== */

        /*

            0. Normalize
            1. General
            2. Utilities
            3. AMP Post
            4. Footer

        */

        /* ==========================================================================
           0. normalize.css v3.0.3 | MIT License | git.io/normalize | (minified)
           ========================================================================== */

        html {
            font-family: sans-serif;

            -ms-text-size-adjust: 100%;
            -webkit-text-size-adjust: 100%;
        }
        body {
            margin: 0;
        }
        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        main,
        menu,
        nav,
        section,
        summary {
            display: block;
        }
        audio,
        canvas,
        progress,
        video {
            display: inline-block;
            vertical-align: baseline;
        }
        audio:not([controls]) {
            display: none;
            height: 0;
        }
        [hidden],
        template {
            display: none;
        }
        a {
            background-color: transparent;
        }
        a:active,
        a:hover {
            outline: 0;
        }
        abbr[title] {
            border-bottom: 1px dotted;
        }
        b,
        strong {
            font-weight: bold;
        }
        dfn {
            font-style: italic;
        }
        h1 {
            margin: 0.67em 0;
            font-size: 2em;
        }
        mark {
            background: #ff0;
            color: #000;
        }
        small {
            font-size: 80%;
        }
        sub,
        sup {
            position: relative;
            vertical-align: baseline;
            font-size: 75%;
            line-height: 0;
        }
        sup {
            top: -0.5em;
        }
        sub {
            bottom: -0.25em;
        }
        img {
            border: 0;
        }
        amp-img {
            border: 0;
        }
        svg:not(:root) {
            overflow: hidden;
        }
        figure {
            margin: 1em 40px;
        }
        hr {
            box-sizing: content-box;
            height: 0;
        }
        pre {
            overflow: auto;
        }
        code,
        kbd,
        pre,
        samp {
            font-family: monospace, monospace;
            font-size: 1em;
        }
        button,
        input,
        optgroup,
        select,
        textarea {
            margin: 0;
            color: inherit;
            font: inherit;
        }
        button {
            overflow: visible;
        }
        button,
        select {
            text-transform: none;
        }
        button,
        html input[type="button"],
        input[type="reset"],
        input[type="submit"] {
            cursor: pointer;

            -webkit-appearance: button;
        }
        button[disabled],
        html input[disabled] {
            cursor: default;
        }
        button::-moz-focus-inner,
        input::-moz-focus-inner {
            padding: 0;
            border: 0;
        }
        input {
            line-height: normal;
        }
        input[type="checkbox"],
        input[type="radio"] {
            box-sizing: border-box;
            padding: 0;
        }
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            height: auto;
        }
        input[type="search"] {
            -webkit-appearance: textfield;
        }
        input[type="search"]::-webkit-search-cancel-button,
        input[type="search"]::-webkit-search-decoration {
            -webkit-appearance: none;
        }
        fieldset {
            margin: 0 2px;
            padding: 0.35em 0.625em 0.75em;
            border: 1px solid #c0c0c0;
        }
        legend {
            padding: 0;
            border: 0;
        }
        textarea {
            overflow: auto;
        }
        optgroup {
            font-weight: bold;
        }
        table {
            border-spacing: 0;
            border-collapse: collapse;
        }
        td,
        th {
            padding: 0;
        }


        /* ==========================================================================
           1. General - Setting up some base styles
           ========================================================================== */

        html {
            max-height: 100%;
            height: 100%;
            font-size: 62.5%;

            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        }

        body {
            max-height: 100%;
            height: 100%;
            color: #3a4145;
            background: #f4f8fb;
            letter-spacing: 0.01rem;
            font-family: "Merriweather", serif;
            font-size: 1.8rem;
            line-height: 1.75em;
            text-rendering: geometricPrecision;

            -webkit-font-feature-settings: "kern" 1;
            -moz-font-feature-settings: "kern" 1;
            -o-font-feature-settings: "kern" 1;
        }

        ::-moz-selection {
            background: #d6edff;
        }

        ::selection {
            background: #d6edff;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            margin: 0 0 0.3em 0;
            color: #2e2e2e;
            font-family: "Open Sans", sans-serif;
            line-height: 1.15em;
            text-rendering: geometricPrecision;

            -webkit-font-feature-settings: "dlig" 1, "liga" 1, "lnum" 1, "kern" 1;
            -moz-font-feature-settings: "dlig" 1, "liga" 1, "lnum" 1, "kern" 1;
            -o-font-feature-settings: "dlig" 1, "liga" 1, "lnum" 1, "kern" 1;
        }

        h1 {
            text-indent: -2px;
            letter-spacing: -1px;
            font-size: 2.6rem;
        }

        h2 {
            letter-spacing: 0;
            font-size: 2.4rem;
        }

        h3 {
            letter-spacing: -0.6px;
            font-size: 2.1rem;
        }

        h4 {
            font-size: 1.9rem;
        }

        h5 {
            font-size: 1.8rem;
        }

        h6 {
            font-size: 1.8rem;
        }

        a {
            color: #4a4a4a;
        }

        a:hover {
            color: #111;
        }

        p,
        ul,
        ol,
        dl {
            margin: 0 0 2.5rem 0;
            font-size: 1.5rem;
            text-rendering: geometricPrecision;

            -webkit-font-feature-settings: "liga" 1, "onum" 1, "kern" 1;
            -moz-font-feature-settings: "liga" 1, "onum" 1, "kern" 1;
            -o-font-feature-settings: "liga" 1, "onum" 1, "kern" 1;
        }

        ol,
        ul {
            padding-left: 2em;
        }

        ol ol,
        ul ul,
        ul ol,
        ol ul {
            margin: 0 0 0.4em 0;
            padding-left: 2em;
        }

        dl dt {
            float: left;
            clear: left;
            overflow: hidden;
            margin-bottom: 1em;
            width: 180px;
            text-align: right;
            text-overflow: ellipsis;
            white-space: nowrap;
            font-weight: 700;
        }

        dl dd {
            margin-bottom: 1em;
            margin-left: 200px;
        }

        li {
            margin: 0.4em 0;
        }

        li li {
            margin: 0;
        }

        hr {
            display: block;
            margin: 1.75em 0;
            padding: 0;
            height: 1px;
            border: 0;
            border-top: #efefef 1px solid;
        }

        blockquote {
            box-sizing: border-box;
            margin: 1.75em 0 1.75em 0;
            padding: 0 0 0 1.75em;
            border-left: #4a4a4a 0.4em solid;

            -moz-box-sizing: border-box;
        }

        blockquote p {
            margin: 0.8em 0;
            font-style: italic;
        }

        blockquote small {
            display: inline-block;
            margin: 0.8em 0 0.8em 1.5em;
            color: #ccc;
            font-size: 0.9em;
        }

        blockquote small:before {
            content: "\2014 \00A0";
        }

        blockquote cite {
            font-weight: 700;
        }

        blockquote cite a {
            font-weight: normal;
        }

        mark {
            background-color: #fdffb6;
        }

        code,
        tt {
            padding: 1px 3px;
            border: #e3edf3 1px solid;
            background: #f7fafb;
            border-radius: 2px;
            white-space: pre-wrap;
            font-family: Inconsolata, monospace, sans-serif;
            font-size: 0.85em;
            font-feature-settings: "liga" 0;

            -webkit-font-feature-settings: "liga" 0;
            -moz-font-feature-settings: "liga" 0;
        }

        pre {
            overflow: auto;
            box-sizing: border-box;
            margin: 0 0 1.75em 0;
            padding: 10px;
            width: 100%;
            border: #e3edf3 1px solid;
            background: #f7fafb;
            border-radius: 3px;
            white-space: pre;
            font-family: Inconsolata, monospace, sans-serif;
            font-size: 0.9em;

            -moz-box-sizing: border-box;
        }

        pre code,
        pre tt {
            padding: 0;
            border: none;
            background: transparent;
            white-space: pre-wrap;
            font-size: inherit;
        }

        kbd {
            display: inline-block;
            margin-bottom: 0.4em;
            padding: 1px 8px;
            border: #ccc 1px solid;
            background: #f4f4f4;
            border-radius: 4px;
            box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2),
            0 1px 0 0 #fff inset;
            color: #666;
            text-shadow: #fff 0 1px 0;
            font-size: 0.9em;
            font-weight: 700;
        }

        table {
            box-sizing: border-box;
            margin: 1.75em 0;
            max-width: 100%;
            width: 100%;
            background-color: transparent;

            -moz-box-sizing: border-box;
        }

        table th,
        table td {
            padding: 8px;
            border-top: #efefef 1px solid;
            vertical-align: top;
            text-align: left;
            line-height: 20px;
        }

        table th {
            color: #000;
        }

        table caption + thead tr:first-child th,
        table caption + thead tr:first-child td,
        table colgroup + thead tr:first-child th,
        table colgroup + thead tr:first-child td,
        table thead:first-child tr:first-child th,
        table thead:first-child tr:first-child td {
            border-top: 0;
        }

        table tbody + tbody {
            border-top: #efefef 2px solid;
        }

        table table table {
            background-color: #fff;
        }

        table tbody > tr:nth-child(odd) > td,
        table tbody > tr:nth-child(odd) > th {
            background-color: #f6f6f6;
        }

        table.plain tbody > tr:nth-child(odd) > td,
        table.plain tbody > tr:nth-child(odd) > th {
            background: transparent;
        }

        iframe,
        amp-iframe,
        .fluid-width-video-wrapper {
            display: block;
            margin: 1.75em 0;
        }

        /* When a video is inside the fitvids wrapper, drop the
        margin on the iframe, cause it breaks stuff. */
        .fluid-width-video-wrapper iframe,
        .fluid-width-video-wrapper amp-iframe {
            margin: 0;
        }

        textarea,
        select,
        input {
            margin: 0 0 5px 0;
            padding: 6px 9px;
            width: 260px;
            outline: 0;
            border: #e7eef2 1px solid;
            background: #fff;
            border-radius: 4px;
            box-shadow: none;
            font-family: "Open Sans", sans-serif;
            font-size: 1.6rem;
            line-height: 1.4em;
            font-weight: 100;

            -webkit-appearance: none;
        }

        textarea {
            min-width: 250px;
            min-height: 80px;
            max-width: 340px;
            width: 100%;
            height: auto;
        }

        input[type="text"]:focus,
        input[type="email"]:focus,
        input[type="search"]:focus,
        input[type="tel"]:focus,
        input[type="url"]:focus,
        input[type="password"]:focus,
        input[type="number"]:focus,
        input[type="date"]:focus,
        input[type="month"]:focus,
        input[type="week"]:focus,
        input[type="time"]:focus,
        input[type="datetime"]:focus,
        input[type="datetime-local"]:focus,
        textarea:focus {
            outline: none;
            outline-width: 0;
            border: #bbc7cc 1px solid;
            background: #fff;
        }

        select {
            width: 270px;
            height: 30px;
            line-height: 30px;
        }

        /* ==========================================================================
           2. Utilities
           ========================================================================== */

        /* Clears shit */
        .clearfix:before,
        .clearfix:after {
            content: " ";
            display: table;
        }
        .clearfix:after {
            clear: both;
        }
        .clearfix {
            zoom: 1;
        }

        /* ==========================================================================
           3. AMP Post
           ========================================================================== */



        .main-header {
            position: relative;
            display: table;
            overflow: hidden;
            box-sizing: border-box;
            width: 100%;
            height: 50px;
            background: #5ba4e5 no-repeat center center;
            background-size: cover;
            text-align: left;

            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
        }

        .content {
            background: #fff;
            padding-top: 15px;
        }
        .blog-title,
        .content {
            margin: auto;
            max-width: 600px;
        }

        .blog-title a {
            display: block;
            padding-right: 16px;
            padding-left: 16px;
            height: 50px;
            color: #fff;
            text-decoration: none;
            font-family: "Open Sans", sans-serif;
            font-size: 16px;
            line-height: 50px;
            font-weight: 600;
        }

        .post {
            position: relative;
            margin-top: 0;
            margin-right: 16px;
            margin-left: 16px;
            padding-bottom: 0;
            max-width: 100%;
            border-bottom: #ebf2f6 1px solid;
            word-wrap: break-word;
            font-size: 0.95em;
            line-height: 1.65em;
        }

        .post-header {
            margin-bottom: 1rem;
        }

        .post-title {
            margin-bottom: 0;
        }

        .post-title a {
            text-decoration: none;
        }

        .post-meta {
            display: block;
            margin: 3px 0 0 0;
            color: #9eabb3;
            font-family: "Open Sans", sans-serif;
            font-size: 1.3rem;
            line-height: 2.2rem;
        }

        .post-meta a {
            color: #9eabb3;
            text-decoration: none;
        }

        .post-meta a:hover {
            text-decoration: underline;
        }

        .post-meta .author {
            margin: 0;
            font-size: 1.3rem;
            line-height: 1.3em;
        }

        .post-date {
            display: inline-block;
            text-transform: uppercase;
            white-space: nowrap;
            font-size: 1.2rem;
            line-height: 1.2em;
        }

        .post-image {
            margin: 0;
            padding-top: 3rem;
            padding-bottom: 30px;
            border-top: 1px #E8E8E8 solid;
        }

        /* Keep images centered, and allow images wider than the main
           text column to break out. */
        .post-content amp-img,
        .post-content amp-anim {
            /* Centers an image by (1) pushing its left edge to the
               center of its container and (2) shifting the entire image
               in the opposite direction by half its own width.
               Works for images that are larger than their containers. */
            position: relative;
            left: 50%;
            display: block;
            padding: 0;
            min-width: 0;
            max-width: 112%; /* fallback when calc doesn't work */
            width: calc(100% + 32px); /* expand with to image + margins */
            height: auto;
            transform: translateX(-50%);

            -webkit-transform: translateX(-50%); /* for Safari and iOS */
            -ms-transform: translateX(-50%); /* for IE9 */
        }

        .footnotes {
            font-size: 1.3rem;
            line-height: 1.6em;
            font-style: italic;
        }

        .footnotes li {
            margin: 0.6rem 0;
        }

        .footnotes p {
            margin: 0;
        }

        .footnotes p a:last-child {
            text-decoration: none;
        }

        /* ==========================================================================
           4. Footer - The bottom the AMP Post
           ========================================================================== */

        .site-footer {
            position: relative;
            margin: 0 auto 20px auto;
            padding: 1rem 15px;
            max-width: 600px;
            color: rgba(0,0,0,0.5);
            font-family: "Open Sans", sans-serif;
            font-size: 1.1rem;
            line-height: 1.75em;
        }

        .site-footer a {
            color: rgba(0,0,0,0.5);
            text-decoration: none;
            font-weight: bold;
        }

        .site-footer a:hover {
            border-bottom: #bbc7cc 1px solid;
        }

        .poweredby {
            display: block;
            float: right;
            width: 45%;
            text-align: right;
        }

        .copyright {
            display: block;
            float: left;
            width: 45%;
        }
    </style>

    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>

    

</head>

<body class="amp-template">
    <header class="main-header">
        <nav class="blog-title">
            <a href="../../">Hello World! I'm Vincent.</a>
        </nav>
    </header>

    <main class="content" role="main">
        <article class="post">

            <header class="post-header">
                <h1 class="post-title">不一樣的 Node.js 筆記 (一)</h1>
                <section class="post-meta">
                    <p class="author">by <a href="../../author/vincent/">Captain Vincent</a></p>
                    <time class="post-date" datetime="2016-03-22">2016-03-22</time>
                </section>
            </header>
            <section class="post-content">

                <p>原著：不一樣的 Node.js－用 JavaScript 打造高效能的前後台網頁程式 林政毅、蔡政崇、錢逢祥 (2014/05/12)</p>

<blockquote>
  <p>作者群 期許本書可以替讀者勾勒出 Node.js 的技術藍圖。</p>
</blockquote>

<h2 id="nodejs">Node.js 簡介</h2>

<p>Node.js 為一個 opensource 的框架, 採用了 Chrome's V8 JavaScript Engine。</p>

<ul>
<li>它讓 Javascript 可以獨立運行於瀏覽器之外。</li>
<li>制定了一系列機制於 API 來協助達到原生 JavaScript 所不支援的功能 (ex. Module、FileSystem、Socket、Process ...etc)</li>
<li>支援第三方模組的功能擴充</li>
<li>繼承 JavaScript 中 Event-driven 的非同步特性


<blockquote>
  書中作者認定 Event-driven 的非同步概念是與多工/緒是不同的, 但筆者認為 Event-driven 其實也只是一種使用多工/緒鑄成的樣板, 透過用多工/緒的方式來將執行與等待的動作拆分開來。</blockquote></li>
  </ul>
  <h3 id>優勢</h3>


<ul>
<li>統一前後開發的經驗</li>
<li>開發效率高 (見仁見智)</li>
<li>極佳的效能 (雖然 JIT 的技術引進後, 仍有無法跟原生的程式相抗衡的宿命)</li>
<li>數以萬計的第三方模組支援</li>
<li>跨平台</li>
</ul>

<h3 id="javascript">JavaScript 簡介</h3>

<p>又稱做 ECMAScript (<a href="https://zh.wikipedia.org/wiki/JavaScript">Wiki 傳送門</a>),
在瀏覽器百家爭鳴的年代, 各家對 JavaScipt 實作的支援與標準不同, 最後由 ECMA 的協調下統一制定了 ECMA-262的標準。</p>

<p>目前常見的 JavaScript Engine有</p>

<ul>
<li>V8 - Google Chrome 所使用, 首先引入 JIT 技術</li>
<li>SpiderMonkey - Mozilla FireFox 所使用, 由 Javascript 語言發明人 Brendan Eich 開發; 而 Mozilla 基金會的前身是由當時被 IE 所擊敗的 Netscape 為了託管其 opensource 的專案所成立</li>
<li>Chakra - 微軟 IE 9.0 之後開始搭載</li>
</ul>

<hr>

<h2 id="javascript">JavaScript 語法</h2>

<p>因為 Node.js 是 base on JavaScript 而衍伸的, 所以在語法上我們還是要回來介紹 JavaScript 做為基石。 </p>

<h3 id>變數宣告</h3>

<pre><code class="language- language-javascript">var MyName = 'Vincent'; //顯式宣告  
YourName = 'Guest'; //隱式宣告  
</code></pre>

<p><br></p>

<h3 id>變數型別</h3>

<pre><code class="language- language-javascript">var text = undefined; //未宣告的變數或宣告後未初始化  
var text = 'string'; //字串  
var text = 520; //64 bit 浮點數  
var text = true; //布林變數 true or false  
var text = function() {}; //函數  
var text = null; //釋放物件時指向 null  
var text = { key1 : 1}; //物件  
var text = [5,2,0]; //陣列  
</code></pre>

<p><br></p>

<h5 id="string">字串 (String)</h5>

<p>只要用雙/單引號括起來的都是字串類型, 底下是特殊字元的介紹。</p>

<ol>
<li><code>\n</code> 換行鍵</li>
<li><code>\r</code> 回車鍵</li>
<li><code>\t</code> Tab 鍵</li>
<li><code>\b</code> 刪除鍵</li>
<li><code>\f</code> 換頁鍵</li>
<li><code>\'</code> 單引號</li>
<li><code>\"</code> 雙引號</li>
<li><code>\\</code> 反斜線 (單一個反斜線稱跳脫字元, 需連續兩個才能秀出字元)</li>
<li><code>\x00 - \xFF</code> (16 bit 的字元)</li>
<li><code>\u0000 - \uFFFF</code> (Unicode 字元)</li>
</ol>

<h5 id="number">數值 (Number)</h5>

<pre><code class="language- language-javascript">var num1 = .0001 //可省略小數點前的 0  
var num2 = 1E-4 //科學記號  
var num3 = 0x123 //16 進位表示, 不接受小數點  
var num4 = 0123 //0 開頭表示 8 進位數字, 不接受小數點  
Infinity //無窮大  
NaN //代表非數字, 變數未初始化就進行數字運算時會回傳該值  
</code></pre>

<p><br></p>

<h5 id="function">函式 (Function)</h5>

<pre><code class="language- language-javascript">function FunctionName(parameter)  
{
    ...
    return result; // 可以有回傳值也可無
} //一般的命名方式來建立函式

var fnVar = function(parameter)  
{
    ...
} //使用變數承接匿名函式, 後續可透過 fnVar 來呼叫

(function(parameter){
    ...
}('test')) //在匿名函式後直接使用'()'來馬上呼叫
</code></pre>

<p>函式可以使用關鍵字 function 做宣告, 沒有提供 function name 時則是匿名 (Anonymous) 函式 (第一版書中有誤)。</p>

<pre><code class="language- language-javascript">var functionOne = function(){console.log("hello world!")};  
var functionTwo = new Function('console.log("hello world!")');  
</code></pre>

<p>建立函式還可另外分為兩種類型, 一個會建立成 function 另一個則是 object。</p>

<p><a href="http://www.w3school.com.cn/jsref/jsref_obj_global.asp">JavaScript 內建全域函式</a></p>

<h5 id="object">物件 (Object)</h5>

<p>物件擁有自己的屬性 (properties) 以及方法 (methods)。</p>

<h5 id="array">陣列 (Array)</h5>

<p>亦是一種物件類型 (所以有提供以下方法 push、pop、shift、unshift、splice ...etc), 陣列元素也可以是不同的類型。</p>

<h3 id="json">JSON</h3>

<p><strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation</p>

<ul>
<li>輕量級的資料交換語言, 為獨立程式語言外的格式定義語法 且 目前已被多種程式語言所支援。</li>
<li>相對於傳統的關係型資料庫，一些關係型資料庫 (NoSQL) 選擇 JSON 作為其資料儲存格式 (MongoDB、CouchDB、RavenDB ...etc)。</li>
</ul>

<pre><code class="language- language-javascript">var myObj = new Object();  
myObj.name = 'Vincent';  
myObj.gender = 'Male';

var myArray = new Array('one', 'two', 'three');  
</code></pre>

<p>標準建立 Object 與 Array的方式</p>

<pre><code class="language- language-javascript">var myObj  
{
    'name' : 'Vincent';
    'gender' : 'Male';
};

var myArray = ['one', 'two', 'three'];  
</code></pre>

<p>使用 JSON 語法 ([]、{} 與 、) 描述建立的 Object 與 Array (鍵值與元素皆可支援 64 bit 浮點數)</p>

<p>JSON 格式的文字檔可透過 JavaScript 內建的函式處理</p>

<ul>
<li>JSON.stringify() 轉換陣列或物件成 JSON 格式的資料</li>
<li>JSON.parser() 將 JSON 格式的資料轉成物件或陣列</li>
</ul>

<h3 id>運算符</h3>

<ul>
<li><p><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, 以上為常見的算數運算符</p>

<blockquote>
  <p><code>+</code> 同時具有字串串接的功能, 所以在表達式中需注意, 運算符會從算式由左至右運算</p>
</blockquote></li>
<li><p><code>&amp;</code> (and), <code>|</code> (or), <code>~</code> (not), <code>^</code> (xor), <code>&lt;&lt;</code> (位元左移), <code>&gt;&gt;</code> (位元右移), <code>&gt;&gt;&gt;</code> (位元無符號右移), 以上為位元 (bitwise) 運算符號</p></li>
<li><p><code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code>, <code>==</code>, <code>===</code> (左值等於右值 且 兩邊資料類型也相同時為 true, 反之 false), <code>!=</code>, <code>!==</code> (與 === 相反意思), <code>&amp;&amp;</code>, <code>||</code>, <code>!</code>, 以上為比較與邏輯運算符</p>

<blockquote>
  <p><code>===</code> 在物件的比較上, 還會比對參考的位置是否相同, 兩個物件雖含相同元素內容仍會比對結果 false</p>
</blockquote></li>
</ul>

<h3 id>特殊用法</h3>

<pre><code class="language- language-javascript">var a=1;  
var b=2;

typeof("abc"); //回傳資料類型

var result1 = (a == b)? true:false; //條件式成立與否決定後續的回傳值

var result2 = instanceof "abc" instanceof String;  
//回傳是否為該物件類型, 注意這邊 "abc" 為 string 類型, 但並非 String Object

var result3 = (a++, b++, a+b); //依序執行並會傳最後一個算式的結果

var result4 = delete a; //將變量重設為 undefined, 並回傳成功與否

var result5 = void b++; //放棄運算結果用 undefined 代替回傳  
</code></pre>

<p><br></p>

<h3 id>流程控制</h3>

<ul>
<li>if... else... if</li>
<li>switch... case</li>
<li>for... loop</li>
<li>for... in</li>
<li>while... loop</li>
<li>do... while</li>
<li>continue、break、(return、throw 省略未介紹)</li>
<li>with</li>
</ul>

<p>範例</p>

<pre><code class="language- language-javascript">var condition = 3;  
var list = [  
    {id:1, name='Vincent'},
    {id:2, name='Miyu'},
    {id:3, name='Guest'}
];
// JSON 格式建立陣列

// if... else if... else... 
if (condition == 1) {  
    ....
}
else if(condition == 2) {  
    ....
}
else {  
    ....
};

// switch... case...
switch (condition) {  
    case 1:
        ...
        break;
    case 2:
        ...
        break;
    default:
        ...
}

// for... loop
for (var index=0 ; index&lt;3 ; index++)  
{
    ...
}

// for... in
for (var i in list){  
    var obj = list[i];
    console.log(obj.id + ':' + obj.name);
}

// while... loop
var i = 0;  
while (i&lt;=3)  
{
    ...
    i++;
}

// do... while
var j = 0;  
do  
{
    ...
    j++;
} while (j&lt;3);

// continue、break
for (var index=0 ; index&lt;10 ; index++)  
{
    if(index == 1){
        continue; //會跳開此次迴圈的執行, 執行下一次迴圈
    }

    if(index == 5)
    {
        break; //會直接離開迴圈
    }
    console.log(index);
}

// with (strict mode 無法使用)
for (var i in list){  
    var obj = list[i];
    with (obj) {
        console.log(id + ':' + name); 
        //with的功用主要是用來省略物件名稱
    }
}
</code></pre>

<p><br></p>

<h3 id="prototype">原型 (Prototype)</h3>

<p>Prototype 應用於將 JavaScript 中屬於同建構子 (constructor) 建立的所有物件, 把可以共享的部分獨立出來, 避免重複建立的問題。  </p>

<pre><code class="language- language-javascript">function Person(age,id){  
    this.age = age;
    this.id = id;
}

Person.prototype.address = 'taipei';

Person.prototype.out = function(){  
    console.log('age:' + this.age + ' id:' + this.id + ' address:' + this.address);
}
</code></pre>

<p>(address 與 out 為所有物件共享) </p>

<h3 id="gcgarbagecollection">記憶體回收機制 (GC, Garbage Collection)</h3>

<p>透過計算指向物件的 reference count 來確認該物件是否仍被使用, 當 reference count 降為 0 時便釋放該記憶體空間。</p>

            </section>

        </article>
    </main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href="../../">Hello World! I'm Vincent.</a> © 2016</section>
        <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
    </footer>
</body>
